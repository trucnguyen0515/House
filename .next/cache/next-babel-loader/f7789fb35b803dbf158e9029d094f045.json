{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nexport var MyService = /*#__PURE__*/function () {\n  function MyService() {\n    _classCallCheck(this, MyService);\n  }\n\n  _createClass(MyService, [{\n    key: \"staticformatDayTimeNow\",\n\n    /* \n      date : null or date\n      format : dd/mm/yyyy , mm-dd-yyyy\n      hastime: 0 => no , 1 => yes\n    */\n    value: function staticformatDayTimeNow(date, format, hastime) {\n      var mytime = \"\";\n      var time = \"\";\n      var d = date ? new Date(date) : new Date(),\n          month = \"\" + (d.getMonth() + 1),\n          day = \"\" + d.getDate(),\n          year = d.getFullYear(),\n          hours = d.getHours(),\n          minutes = d.getMinutes(),\n          seconds = d.getSeconds();\n      if (month.length < 2) month = \"0\" + month;\n      if (day.length < 2) day = \"0\" + day;\n      if (hours < 10) hours = \"0\" + hours;\n      if (minutes < 10) minutes = \"0\" + minutes;\n      if (seconds < 10) seconds = \"0\" + seconds;\n      time = hastime === 1 ? [hours, minutes, seconds].join(\":\") : \"\";\n      mytime = format === \"dd/mm/yyyy\" ? [day, month, year].join(format[2]) + \" \" + time : format === \"mm/dd/yyyy\" ? [month, day, year].join(format[2]) + \" \" + time : format === \"yyyy/dd/mm\" ? [year, day, month].join(format[2]) + \" \" + time : [year, month, day].join(format[2]) + \" \" + time;\n      return mytime;\n    } // number: count day add\n\n  }], [{\n    key: \"parseSeoToName\",\n    value: function parseSeoToName() {\n      var string = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n      var mstr = string.split(\"-\");\n      var res = \"\";\n      var firsLetter = \"\";\n\n      if (mstr.length > 1) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = mstr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var item = _step.value;\n            firsLetter = item[0].toUpperCase();\n            res += res === \"\" ? firsLetter + item.substring(1) : \" \" + firsLetter + item.substring(1);\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        return res;\n      }\n\n      firsLetter = mstr[0][0].toUpperCase();\n      return firsLetter + mstr[0].substring(1);\n    } //  loai bo phan tu trung trong arr obj\n\n  }, {\n    key: \"dedup\",\n    value: function dedup(arr) {\n      var hashTable = {};\n      return arr.filter(function (el) {\n        var key = JSON.stringify(el);\n        var match = Boolean(hashTable[key]);\n        return match ? false : hashTable[key] = true;\n      });\n    } // order array object\n    // arr.sort(orderArrayObject('title','desc',0))\n\n  }, {\n    key: \"orderArrayObject\",\n    value: function orderArrayObject(props) {\n      var order = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"asc\";\n      var isDate = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n      return function (a, b) {\n        if (!a.hasOwnProperty(props) || !b.hasOwnProperty(props)) {\n          return 0;\n        }\n\n        var varA = typeof a[props] === \"string\" ? a[props].toUpperCase() : a[props];\n        var varB = typeof b[props] === \"string\" ? b[props].toUpperCase() : b[props];\n        varA = isDate ? formatDefaultDay(varA) : varA;\n        varB = isDate ? formatDefaultDay(varB) : varB;\n        var comparison = 0;\n\n        if (varA > varB) {\n          comparison = 1;\n        } else if (varA < varB) {\n          comparison = -1;\n        }\n\n        return order == \"desc\" ? comparison * -1 : comparison;\n      };\n    } // nguyen-tan-truc\n\n  }, {\n    key: \"getSeoTitle\",\n    value: function getSeoTitle(input) {\n      if (input == undefined || input == \"\") return \"\"; //Đổi chữ hoa thành chữ thường\n\n      var slug = input.toLowerCase(); //Đổi ký tự có dấu thành không dấu\n\n      slug = slug.replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi, \"a\");\n      slug = slug.replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi, \"e\");\n      slug = slug.replace(/i|í|ì|ỉ|ĩ|ị/gi, \"i\");\n      slug = slug.replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi, \"o\");\n      slug = slug.replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi, \"u\");\n      slug = slug.replace(/ý|ỳ|ỷ|ỹ|ỵ/gi, \"y\");\n      slug = slug.replace(/đ/gi, \"d\"); //Xóa các ký tự đặt biệt\n\n      slug = slug.replace(/\\`|\\~|\\!|\\@|\\#|\\||\\$|\\%|\\^|\\&|\\*|\\(|\\)|\\+|\\=|\\,|\\.|\\/|\\?|\\>|\\<|\\'|\\\"|\\:|\\;|_/gi, \"\"); //Đổi khoảng trắng thành ký tự gạch ngang\n\n      slug = slug.replace(/ /gi, \"-\"); //Đổi nhiều ký tự gạch ngang liên tiếp thành 1 ký tự gạch ngang\n      //Phòng trường hợp người nhập vào quá nhiều ký tự trắng\n\n      slug = slug.replace(/\\-\\-\\-\\-\\-/gi, \"-\");\n      slug = slug.replace(/\\-\\-\\-\\-/gi, \"-\");\n      slug = slug.replace(/\\-\\-\\-/gi, \"-\");\n      slug = slug.replace(/\\-\\-/gi, \"-\"); //Xóa các ký tự gạch ngang ở đầu và cuối\n\n      slug = \"@\" + slug + \"@\";\n      slug = slug.replace(/\\@\\-|\\-\\@|\\@/gi, \"\");\n      return slug;\n    } // 14.000.000\n\n  }, {\n    key: \"dotsNumber\",\n    value: function dotsNumber(value) {\n      if (value) {\n        var string = this.replaceAll(value, \".\", \"\");\n        var arr = \"\";\n\n        for (var i = 0; i < string.length; i++) {\n          string.length > 3 ? (string.length - (i + 1)) % 3 === 0 && i !== string.length - 1 ? arr += string[i] + \".\" : arr += string[i] : arr += string[i];\n        }\n\n        return arr;\n      } else {\n        return \"\";\n      }\n    } // replace string multiple\n\n  }, {\n    key: \"replaceAll\",\n    value: function replaceAll(str, find, replace) {\n      if (str) {\n        return typeof str !== \"string\" ? str.toString().replace(new RegExp(this.escapeRegExp(find), \"g\"), replace) : str.replace(new RegExp(this.escapeRegExp(find), \"g\"), replace);\n      }\n    }\n  }, {\n    key: \"escapeRegExp\",\n    value: function escapeRegExp(str) {\n      return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n    } // Parse JWT\n\n  }, {\n    key: \"parseJwt\",\n    value: function parseJwt(token) {\n      var base64Url = token.split(\".\")[1];\n      var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n      var jsonPayload = decodeURIComponent(atob(base64).split(\"\").map(function (c) {\n        return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n      }).join(\"\"));\n      return JSON.parse(jsonPayload);\n    } //Convert exel to json\n\n  }, {\n    key: \"parseExcel\",\n    value: function parseExcel(file, callback) {\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        var data = e.target.result;\n        var workbook = XLSX.read(data, {\n          type: \"binary\"\n        });\n        workbook.SheetNames.forEach(function (sheetName) {\n          // Here is your object\n          var XL_row_object = XLSX.utils.sheet_to_json(workbook.Sheets[sheetName]);\n          var json_object = JSON.stringify(XL_row_object);\n          callback(JSON.parse(json_object));\n        });\n      };\n\n      reader.onerror = function (ex) {};\n\n      reader.readAsBinaryString(file);\n    } //parse model excel\n\n  }, {\n    key: \"parseModelExcel\",\n    value: function parseModelExcel(arrExcel) {\n      var _this = this;\n\n      var mangDSKQ = new DanhSachKhachHang();\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = arrExcel[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var val = _step2.value;\n          var obj = Object.entries(val).reduce(function (acc, _ref) {\n            var _ref2 = _slicedToArray(_ref, 2),\n                key = _ref2[0],\n                value = _ref2[1];\n\n            return key === \"Email Address\" ? _objectSpread({}, acc, {\n              email: value\n            }) : key === \"Số điện thoại\" ? _objectSpread({}, acc, {\n              soDienThoai: value\n            }) : key === \"Họ tên\" ? _objectSpread({}, acc, {\n              ho: value.toString().split(\" \")[0],\n              ten: value.toString().split(\" \").reduce(function (sum, val, i) {\n                return i > 1 ? sum + \" \" + val : val = val;\n              })\n            }) : key === \"Bạn biết CyberSoft thông qua kênh nào đầu tiên?\" ? _objectSpread({}, acc, {\n              nguonGioiThieu: value\n            }) : key === \"Nếu bạn có học Đại học/Cao Đẳng/Trung cấp, vui lòng cho chúng tôi biết tên trường:\" ? _objectSpread({}, acc, {\n              truongDaVaDangHoc: value\n            }) : key === \"Năm sinh\" ? _objectSpread({}, acc, {\n              sinhNhat: typeof value === \"number\" ? new Date(_this.formatDateDefault2(\"01/01/\" + value) + \"Z\").toISOString().substring(0, 10) : new Date(_this.formatDateDefault(value) + \"Z\").toISOString().substring(0, 10)\n            }) : key === \"Số điện thoại\" ? _objectSpread({}, acc, {\n              soDienThoai: value\n            }) : // remove key\n            key === \"Bạn học ngành CNTT hay trái ngành?\" ? acc : key === \"Khoảng lương bạn mong muốn khi học xong khóa học ? (ví dụ: 6tr->15tr)\" ? acc : key === \"Khoảng lương sau 2 năm bạn mong muốn bao nhiêu? \" ? acc : key === \"Quy định của trung tâm:\" ? acc : key === \"Timestamp\" ? acc : key === \"Tiếng anh giao tiếp khá quan trọng cho lập trình để nhận mức lương cao hơn, thăng tiến và làm dự án onsite. CyberSoft có trung tâm anh văn Aladin chuyên đào tạo giao tiếp chuẩn Mỹ, chương trình thực tế và có ưu đãi dành riêng cho học viên CyberSoft. Bạn có quan tâm ?\" ? acc : key === \"Vui l\\xF2ng ch\\u1EE5p M\\u1EB6T TR\\u01AF\\u1EDAC \\\"C\\u0103n c\\u01B0\\u1EDBc c\\xF4ng d\\xE2n\\\" ho\\u1EB7c \\\"Ch\\u1EE9ng minh nh\\xE2n d\\xE2n\\\" c\\u1EE7a b\\u1EA1n\" ? acc : key === \"Vui l\\xF2ng ch\\u1EE5p M\\u1EB6T SAU \\\"C\\u0103n c\\u01B0\\u1EDBc c\\xF4ng d\\xE2n\\\" ho\\u1EB7c \\\"Ch\\u1EE9ng minh nh\\xE2n d\\xE2n\\\" c\\u1EE7a b\\u1EA1n\" ? acc : key === \"Nếu bạn đang đi làm, vui lòng cho chúng tôi biết Tên Công Ty hiện tại:\" ? acc : _objectSpread({}, acc, _defineProperty({}, key, value));\n          }, {});\n          obj.maTrangThaiKhachHang = 0;\n\n          var newObj = this._khachHangService.TaoModelKhachHang(obj);\n\n          newObj.thongTinMoRong.NgaySinh = obj.sinhNhat;\n          mangDSKQ.mangKhachHangImport = [].concat(_toConsumableArray(mangDSKQ.mangKhachHangImport), [newObj]);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n            _iterator2.return();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      return mangDSKQ;\n    }\n  }, {\n    key: \"addDay\",\n    value: function addDay(number) {\n      var date = new Date();\n      var timeStamp = date.setDate(date.getDate() + parseInt(number));\n      date = new Date(timeStamp);\n      return formatDayTimeNow(date, \"dd/mm/yyyy\", 0);\n    } // vd: 15/05/1994 12:00:00\n\n  }, {\n    key: \"formatDefaultDayTime\",\n    value: function formatDefaultDayTime(stringDate) {\n      var date, month, year, daySplit;\n      daySplit = stringDate.split(\" \");\n      date = daySplit[0].split(stringDate[2])[0];\n      month = daySplit[0].split(stringDate[2])[1];\n      year = daySplit[0].split(stringDate[2])[2];\n      return daySplit[1] ? [month, date, year].join(\"-\") + \" \" + daySplit[1] : [month, date, year].join(\"-\");\n    } // Image\n\n  }, {\n    key: \"getBase64\",\n    value: function getBase64(file) {\n      return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.readAsDataURL(file);\n\n        reader.onload = function () {\n          return resolve(reader.result);\n        };\n\n        reader.onerror = function (error) {\n          return reject(error);\n        };\n      });\n    }\n  }, {\n    key: \"srcToFile\",\n    value: function srcToFile(src, fileName, mimeType) {\n      return fetch(src).then(function (res) {\n        return res.arrayBuffer();\n      }).then(function (buf) {\n        return new File([buf], fileName, {\n          type: mimeType\n        });\n      });\n    }\n  }]);\n\n  return MyService;\n}();\nexport var FuncService = /*#__PURE__*/function () {\n  function FuncService() {\n    _classCallCheck(this, FuncService);\n  }\n\n  _createClass(FuncService, null, [{\n    key: \"search\",\n    // tim duy nhat 1 item\n\n    /*\n        arr: input arrObj dau vao\n        prop: get tra tri prop can tim\n        string: string can tim\n    */\n    value: function search(arr, prop, string) {\n      return arr.find(function (res) {\n        return res[prop] === string;\n      });\n    }\n  }, {\n    key: \"searchAll\",\n    value: function searchAll(arr, prop, arrFind) {\n      var resArr = [];\n\n      if (arrFind.length > 0) {\n        var myMap = new Map();\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          for (var _iterator3 = arr[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var res = _step3.value;\n            myMap.set(res[prop], res);\n          }\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n              _iterator3.return();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = arrFind[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var _res = _step4.value;\n            resArr = [].concat(_toConsumableArray(resArr), [myMap.get(_res)]);\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n\n        return resArr;\n      }\n\n      return resArr;\n    } // tim tat ca item theo danh sach id\n\n    /*\n        arr: input arrObj dau vao\n        arrFind: input arr can tim vd:[\"a\",\"b\"]\n        prop: get tra tri prop can tim\n    */\n\n  }, {\n    key: \"find\",\n    value: function find(arr, arrFind, prop) {\n      var newArr = [];\n      var myMap = new Map();\n\n      if (arrFind.length > 0) {\n        var _iteratorNormalCompletion5 = true;\n        var _didIteratorError5 = false;\n        var _iteratorError5 = undefined;\n\n        try {\n          for (var _iterator5 = arr[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n            var val = _step5.value;\n            myMap.set(val[prop], val);\n          }\n        } catch (err) {\n          _didIteratorError5 = true;\n          _iteratorError5 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n              _iterator5.return();\n            }\n          } finally {\n            if (_didIteratorError5) {\n              throw _iteratorError5;\n            }\n          }\n        }\n\n        var _iteratorNormalCompletion6 = true;\n        var _didIteratorError6 = false;\n        var _iteratorError6 = undefined;\n\n        try {\n          for (var _iterator6 = arrFind[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n            var _val = _step6.value;\n            newArr.push(myMap.get(_val));\n          }\n        } catch (err) {\n          _didIteratorError6 = true;\n          _iteratorError6 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion6 && _iterator6.return != null) {\n              _iterator6.return();\n            }\n          } finally {\n            if (_didIteratorError6) {\n              throw _iteratorError6;\n            }\n          }\n        }\n\n        return newArr;\n      }\n\n      return [];\n    }\n  }]);\n\n  return FuncService;\n}();","map":null,"metadata":{},"sourceType":"module"}