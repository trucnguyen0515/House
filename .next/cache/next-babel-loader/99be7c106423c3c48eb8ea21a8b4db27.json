{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { withRouter, createRouter, useRouter } from \"next/router\";\nimport { Component } from \"react\";\nimport Layout1 from \"../../layouts/layout1\";\nimport MyRouter from \"../../const/routes\";\nimport { Breadcrumb, Row, Col } from \"antd\";\nimport Link from \"next/link\";\nimport CategoryComp from \"../../components/ProductPage/categoryComp\";\nimport ProductComp from \"../../components/ProductPage/productComp\";\nimport LoadingPage from \"../../components/SharedComp/LoadingPage\";\n\nvar ProductsPosition = /*#__PURE__*/function (_Component) {\n  _inherits(ProductsPosition, _Component);\n\n  function ProductsPosition() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ProductsPosition);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ProductsPosition)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      loading: _this.props.loading\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderBreadcrumb\", function () {\n      var _this$props = _this.props,\n          typeComp = _this$props.typeComp,\n          product = _this$props.product,\n          productDetail = _this$props.productDetail,\n          breadcrumb = _this$props.breadcrumb;\n      var listBreadcrum = [{\n        name: \"All Products\",\n        href: MyRouter.Products.href,\n        as: \"\"\n      }];\n\n      if (typeComp === 0) {\n        if (breadcrumb.length > 0) {\n          var _iteratorNormalCompletion = true;\n          var _didIteratorError = false;\n          var _iteratorError = undefined;\n\n          try {\n            for (var _iterator = breadcrumb[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              var res = _step.value;\n              listBreadcrum = [].concat(_toConsumableArray(listBreadcrum), [{\n                name: res.name,\n                href: MyRouter.ProductDetail.href,\n                as: MyRouter.ProductDetail.as(res.slug)\n              }]);\n            }\n          } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion && _iterator.return != null) {\n                _iterator.return();\n              }\n            } finally {\n              if (_didIteratorError) {\n                throw _iteratorError;\n              }\n            }\n          }\n        }\n\n        listBreadcrum = [].concat(_toConsumableArray(listBreadcrum), [{\n          name: product.name,\n          href: _this.props.router.pathname,\n          as: _this.props.router.asPath\n        }]);\n      }\n\n      if (typeComp === 1) {\n        // console.log(\"product: \",product)\n        // console.log(\"productDetail: \",productDetail)\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = breadcrumb[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _res = _step2.value;\n            listBreadcrum = [].concat(_toConsumableArray(listBreadcrum), [{\n              name: _res.name,\n              href: MyRouter.ProductDetail.href,\n              as: MyRouter.ProductDetail.as(_res.slug)\n            }]);\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        listBreadcrum = [].concat(_toConsumableArray(listBreadcrum), [{\n          name: product.name,\n          href: MyRouter.ProductDetail.href,\n          as: MyRouter.ProductDetail.as(product.slug)\n        }, {\n          name: \"MPN \".concat(productDetail.id),\n          href: MyRouter.ProductsList.href,\n          as: MyRouter.ProductsList.as(productDetail.slug, productDetail.id)\n        }]);\n      }\n\n      return listBreadcrum.map(function (item, i) {\n        return __jsx(Breadcrumb.Item, {\n          key: i\n        }, i + 1 === listBreadcrum.length ? __jsx(\"span\", {\n          className: \"fs-15\"\n        }, item.name) : __jsx(Link, {\n          href: item.href,\n          as: item.as\n        }, __jsx(\"span\", {\n          className: \"mylink fs-15\",\n          onClick: function onClick() {\n            return _this.setState({\n              loading: true\n            });\n          }\n        }, item.name)));\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(ProductsPosition, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      this.state.loading === true && prevState.loading === this.state.loading ? this.setState({\n        loading: this.props.loading\n      }) : null;\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // back browser\n      window.onpopstate = function () {\n        _this2.setState({\n          loading: true\n        });\n      };\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.onpopstate = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props2 = this.props,\n          typeComp = _this$props2.typeComp,\n          product = _this$props2.product,\n          categoriesChild = _this$props2.categoriesChild,\n          categoriesChild_2 = _this$props2.categoriesChild_2,\n          productsChild = _this$props2.productsChild,\n          productDetail = _this$props2.productDetail;\n      var renderComp = typeComp === 0 ? __jsx(CategoryComp, {\n        product: product,\n        productsChild: productsChild,\n        categoriesChild: categoriesChild,\n        categoriesChild_2: categoriesChild_2,\n        callback: function callback(res) {\n          _this3.setState({\n            loading: true\n          });\n        }\n      }) : __jsx(ProductComp, {\n        productDetail: productDetail,\n        callback: function callback(res) {\n          _this3.setState({\n            loading: true\n          });\n        }\n      });\n      return __jsx(Layout1, null, __jsx(LoadingPage, {\n        isLoading: this.state.loading\n      }, __jsx(\"div\", {\n        id: \"Products\"\n      }, __jsx(\"div\", {\n        className: \"wrapper\"\n      }, __jsx(\"div\", {\n        className: \"container\"\n      }, __jsx(Breadcrumb, null, this.renderBreadcrumb()), typeComp === 0 ? __jsx(\"h1\", {\n        className: \"pb-25\"\n      }, product.name) : null)), renderComp)));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      return {\n        loading: state.loading\n      };\n    }\n  }]);\n\n  return ProductsPosition;\n}(Component);\n\nexport var __N_SSG = true;\nexport default withRouter(ProductsPosition);","map":null,"metadata":{},"sourceType":"module"}