{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexport class MyService {\n  static parseSeoToName(string = \"\") {\n    const mstr = string.split(\"-\");\n    let res = \"\";\n    let firsLetter = \"\";\n\n    if (mstr.length > 1) {\n      for (let item of mstr) {\n        firsLetter = item[0].toUpperCase();\n        res += res === \"\" ? firsLetter + item.substring(1) : \" \" + firsLetter + item.substring(1);\n      }\n\n      return res;\n    }\n\n    firsLetter = mstr[0][0].toUpperCase();\n    return firsLetter + mstr[0].substring(1);\n  } //  loai bo phan tu trung trong arr obj\n\n\n  static dedup(arr) {\n    var hashTable = {};\n    return arr.filter(function (el) {\n      var key = JSON.stringify(el);\n      var match = Boolean(hashTable[key]);\n      return match ? false : hashTable[key] = true;\n    });\n  } // order array object\n  // arr.sort(orderArrayObject('title','desc',0))\n\n\n  static orderArrayObject(props, order = \"asc\", isDate = 0) {\n    return function (a, b) {\n      if (!a.hasOwnProperty(props) || !b.hasOwnProperty(props)) {\n        return 0;\n      }\n\n      let varA = typeof a[props] === \"string\" ? a[props].toUpperCase() : a[props];\n      let varB = typeof b[props] === \"string\" ? b[props].toUpperCase() : b[props];\n      varA = isDate ? formatDefaultDay(varA) : varA;\n      varB = isDate ? formatDefaultDay(varB) : varB;\n      let comparison = 0;\n\n      if (varA > varB) {\n        comparison = 1;\n      } else if (varA < varB) {\n        comparison = -1;\n      }\n\n      return order == \"desc\" ? comparison * -1 : comparison;\n    };\n  } // nguyen-tan-truc\n\n\n  static getSeoTitle(input) {\n    if (input == undefined || input == \"\") return \"\"; //Đổi chữ hoa thành chữ thường\n\n    var slug = input.toLowerCase(); //Đổi ký tự có dấu thành không dấu\n\n    slug = slug.replace(/á|à|ả|ạ|ã|ă|ắ|ằ|ẳ|ẵ|ặ|â|ấ|ầ|ẩ|ẫ|ậ/gi, \"a\");\n    slug = slug.replace(/é|è|ẻ|ẽ|ẹ|ê|ế|ề|ể|ễ|ệ/gi, \"e\");\n    slug = slug.replace(/i|í|ì|ỉ|ĩ|ị/gi, \"i\");\n    slug = slug.replace(/ó|ò|ỏ|õ|ọ|ô|ố|ồ|ổ|ỗ|ộ|ơ|ớ|ờ|ở|ỡ|ợ/gi, \"o\");\n    slug = slug.replace(/ú|ù|ủ|ũ|ụ|ư|ứ|ừ|ử|ữ|ự/gi, \"u\");\n    slug = slug.replace(/ý|ỳ|ỷ|ỹ|ỵ/gi, \"y\");\n    slug = slug.replace(/đ/gi, \"d\"); //Xóa các ký tự đặt biệt\n\n    slug = slug.replace(/\\`|\\~|\\!|\\@|\\#|\\||\\$|\\%|\\^|\\&|\\*|\\(|\\)|\\+|\\=|\\,|\\.|\\/|\\?|\\>|\\<|\\'|\\\"|\\:|\\;|_/gi, \"\"); //Đổi khoảng trắng thành ký tự gạch ngang\n\n    slug = slug.replace(/ /gi, \"-\"); //Đổi nhiều ký tự gạch ngang liên tiếp thành 1 ký tự gạch ngang\n    //Phòng trường hợp người nhập vào quá nhiều ký tự trắng\n\n    slug = slug.replace(/\\-\\-\\-\\-\\-/gi, \"-\");\n    slug = slug.replace(/\\-\\-\\-\\-/gi, \"-\");\n    slug = slug.replace(/\\-\\-\\-/gi, \"-\");\n    slug = slug.replace(/\\-\\-/gi, \"-\"); //Xóa các ký tự gạch ngang ở đầu và cuối\n\n    slug = \"@\" + slug + \"@\";\n    slug = slug.replace(/\\@\\-|\\-\\@|\\@/gi, \"\");\n    return slug;\n  } // 14.000.000\n\n\n  static dotsNumber(value) {\n    if (value) {\n      let string = this.replaceAll(value, \".\", \"\");\n      let arr = \"\";\n\n      for (let i = 0; i < string.length; i++) {\n        string.length > 3 ? (string.length - (i + 1)) % 3 === 0 && i !== string.length - 1 ? arr += string[i] + \".\" : arr += string[i] : arr += string[i];\n      }\n\n      return arr;\n    } else {\n      return \"\";\n    }\n  } // replace string multiple\n\n\n  static replaceAll(str, find, replace) {\n    if (str) {\n      return typeof str !== \"string\" ? str.toString().replace(new RegExp(this.escapeRegExp(find), \"g\"), replace) : str.replace(new RegExp(this.escapeRegExp(find), \"g\"), replace);\n    }\n  }\n\n  static escapeRegExp(str) {\n    return str.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n  } // Parse JWT\n\n\n  static parseJwt(token) {\n    var base64Url = token.split(\".\")[1];\n    var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    var jsonPayload = decodeURIComponent(atob(base64).split(\"\").map(function (c) {\n      return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(\"\"));\n    return JSON.parse(jsonPayload);\n  } //Convert exel to json\n\n\n  static parseExcel(file, callback) {\n    var reader = new FileReader();\n\n    reader.onload = function (e) {\n      var data = e.target.result;\n      var workbook = XLSX.read(data, {\n        type: \"binary\"\n      });\n      workbook.SheetNames.forEach(function (sheetName) {\n        // Here is your object\n        var XL_row_object = XLSX.utils.sheet_to_json(workbook.Sheets[sheetName]);\n        var json_object = JSON.stringify(XL_row_object);\n        callback(JSON.parse(json_object));\n      });\n    };\n\n    reader.onerror = function (ex) {};\n\n    reader.readAsBinaryString(file);\n  } //parse model excel\n\n\n  static parseModelExcel(arrExcel) {\n    let mangDSKQ = new DanhSachKhachHang();\n\n    for (let val of arrExcel) {\n      const obj = Object.entries(val).reduce((acc, [key, value]) => {\n        return key === \"Email Address\" ? _objectSpread({}, acc, {\n          email: value\n        }) : key === \"Số điện thoại\" ? _objectSpread({}, acc, {\n          soDienThoai: value\n        }) : key === \"Họ tên\" ? _objectSpread({}, acc, {\n          ho: value.toString().split(\" \")[0],\n          ten: value.toString().split(\" \").reduce((sum, val, i) => i > 1 ? sum + \" \" + val : val = val)\n        }) : key === \"Bạn biết CyberSoft thông qua kênh nào đầu tiên?\" ? _objectSpread({}, acc, {\n          nguonGioiThieu: value\n        }) : key === \"Nếu bạn có học Đại học/Cao Đẳng/Trung cấp, vui lòng cho chúng tôi biết tên trường:\" ? _objectSpread({}, acc, {\n          truongDaVaDangHoc: value\n        }) : key === \"Năm sinh\" ? _objectSpread({}, acc, {\n          sinhNhat: typeof value === \"number\" ? new Date(this.formatDateDefault2(\"01/01/\" + value) + \"Z\").toISOString().substring(0, 10) : new Date(this.formatDateDefault(value) + \"Z\").toISOString().substring(0, 10)\n        }) : key === \"Số điện thoại\" ? _objectSpread({}, acc, {\n          soDienThoai: value\n        }) : // remove key\n        key === \"Bạn học ngành CNTT hay trái ngành?\" ? acc : key === \"Khoảng lương bạn mong muốn khi học xong khóa học ? (ví dụ: 6tr->15tr)\" ? acc : key === \"Khoảng lương sau 2 năm bạn mong muốn bao nhiêu? \" ? acc : key === \"Quy định của trung tâm:\" ? acc : key === \"Timestamp\" ? acc : key === \"Tiếng anh giao tiếp khá quan trọng cho lập trình để nhận mức lương cao hơn, thăng tiến và làm dự án onsite. CyberSoft có trung tâm anh văn Aladin chuyên đào tạo giao tiếp chuẩn Mỹ, chương trình thực tế và có ưu đãi dành riêng cho học viên CyberSoft. Bạn có quan tâm ?\" ? acc : key === `Vui lòng chụp MẶT TRƯỚC \"Căn cước công dân\" hoặc \"Chứng minh nhân dân\" của bạn` ? acc : key === `Vui lòng chụp MẶT SAU \"Căn cước công dân\" hoặc \"Chứng minh nhân dân\" của bạn` ? acc : key === \"Nếu bạn đang đi làm, vui lòng cho chúng tôi biết Tên Công Ty hiện tại:\" ? acc : _objectSpread({}, acc, {\n          [key]: value\n        });\n      }, {});\n      obj.maTrangThaiKhachHang = 0;\n\n      let newObj = this._khachHangService.TaoModelKhachHang(obj);\n\n      newObj.thongTinMoRong.NgaySinh = obj.sinhNhat;\n      mangDSKQ.mangKhachHangImport = [...mangDSKQ.mangKhachHangImport, newObj];\n    }\n\n    return mangDSKQ;\n  }\n  /* \n    date : null or date\n    format : dd/mm/yyyy , mm-dd-yyyy\n    hastime: 0 => no , 1 => yes\n  */\n\n\n  staticformatDayTimeNow(date, format, hastime) {\n    let mytime = \"\";\n    let time = \"\";\n    let d = date ? new Date(date) : new Date(),\n        month = \"\" + (d.getMonth() + 1),\n        day = \"\" + d.getDate(),\n        year = d.getFullYear(),\n        hours = d.getHours(),\n        minutes = d.getMinutes(),\n        seconds = d.getSeconds();\n    if (month.length < 2) month = \"0\" + month;\n    if (day.length < 2) day = \"0\" + day;\n    if (hours < 10) hours = \"0\" + hours;\n    if (minutes < 10) minutes = \"0\" + minutes;\n    if (seconds < 10) seconds = \"0\" + seconds;\n    time = hastime === 1 ? [hours, minutes, seconds].join(\":\") : \"\";\n    mytime = format === \"dd/mm/yyyy\" ? [day, month, year].join(format[2]) + \" \" + time : format === \"mm/dd/yyyy\" ? [month, day, year].join(format[2]) + \" \" + time : format === \"yyyy/dd/mm\" ? [year, day, month].join(format[2]) + \" \" + time : [year, month, day].join(format[2]) + \" \" + time;\n    return mytime;\n  } // number: count day add\n\n\n  static addDay(number) {\n    let date = new Date();\n    let timeStamp = date.setDate(date.getDate() + parseInt(number));\n    date = new Date(timeStamp);\n    return formatDayTimeNow(date, \"dd/mm/yyyy\", 0);\n  } // vd: 15/05/1994 12:00:00\n\n\n  static formatDefaultDayTime(stringDate) {\n    let date, month, year, daySplit;\n    daySplit = stringDate.split(\" \");\n    date = daySplit[0].split(stringDate[2])[0];\n    month = daySplit[0].split(stringDate[2])[1];\n    year = daySplit[0].split(stringDate[2])[2];\n    return daySplit[1] ? [month, date, year].join(\"-\") + \" \" + daySplit[1] : [month, date, year].join(\"-\");\n  } // Image\n\n\n  static getBase64(file) {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = () => resolve(reader.result);\n\n      reader.onerror = error => reject(error);\n    });\n  }\n\n  static srcToFile(src, fileName, mimeType) {\n    return fetch(src).then(function (res) {\n      return res.arrayBuffer();\n    }).then(function (buf) {\n      return new File([buf], fileName, {\n        type: mimeType\n      });\n    });\n  }\n\n}\nexport class FuncService {\n  // tim duy nhat 1 item\n\n  /*\n      arr: input arrObj dau vao\n      prop: get tra tri prop can tim\n      string: string can tim\n  */\n  static search(arr, prop, string) {\n    return arr.find(res => res[prop] === string);\n  }\n\n  static searchAll(arr, prop, arrFind) {\n    let resArr = [];\n\n    if (arrFind.length > 0) {\n      let myMap = new Map();\n\n      for (let res of arr) {\n        myMap.set(res[prop], res);\n      }\n\n      for (let res of arrFind) {\n        resArr = [...resArr, myMap.get(res)];\n      }\n\n      return resArr;\n    }\n\n    return resArr;\n  } // tim tat ca item theo danh sach id\n\n  /*\n      arr: input arrObj dau vao\n      arrFind: input arr can tim vd:[\"a\",\"b\"]\n      prop: get tra tri prop can tim\n  */\n\n\n  static find(arr, arrFind, prop) {\n    let newArr = [];\n    let myMap = new Map();\n\n    if (arrFind.length > 0) {\n      for (let val of arr) {\n        myMap.set(val[prop], val);\n      }\n\n      for (let val of arrFind) {\n        newArr.push(myMap.get(val));\n      }\n\n      return newArr;\n    }\n\n    return [];\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}